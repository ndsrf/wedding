# Database Configuration
DATABASE_URL="postgresql://user:password@localhost:5432/wedding_db"

# NextAuth Configuration
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key-here-generate-with-openssl-rand-base64-32"
# Set to true when running in containers or behind reverse proxies
AUTH_TRUST_HOST="true"

# OAuth Providers
# Google OAuth
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Facebook OAuth
# Facebook login is automatically enabled if these are provided. 
# You can force disable it with NEXT_PUBLIC_FACEBOOK_ENABLED="false"
FACEBOOK_CLIENT_ID="your-facebook-app-id"
FACEBOOK_CLIENT_SECRET="your-facebook-app-secret"

# Email Service (Resend)
RESEND_API_KEY="your-resend-api-key"
EMAIL_FROM="noreply@weddingmanagement.com"
EMAIL_FROM_NAME="{{WEDDING_NAME}} via Nupci" # Supports {{WEDDING_NAME}} variable
# Email address to receive contact form submissions
EMAIL_CONTACT_FORM="contact@yourdomain.com"

# Google reCAPTCHA v3 (for contact form spam protection)
# Get your keys from: https://www.google.com/recaptcha/admin
NEXT_PUBLIC_RECAPTCHA_SITE_KEY="your-recaptcha-site-key"
RECAPTCHA_SECRET_KEY="your-recaptcha-secret-key"

# SMS and WhatsApp Service (Twilio)
TWILIO_ACCOUNT_SID="your-twilio-account-sid"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"
TWILIO_PHONE_NUMBER="+1234567890"
TWILIO_WHATSAPP_NUMBER="whatsapp:+14155238886"
TWILIO_WEBHOOK_ENABLED="true"

# AI Configuration – WhatsApp auto-replies
# The app will automatically reply to guest WhatsApp messages using AI.
# Set AI_PROVIDER to "openai" (default) or "gemini", then provide the
# corresponding API key. You may set both keys; AI_PROVIDER selects which one
# is used.
#
# Twilio setup: in the Twilio console go to Messaging → Senders → your
# WhatsApp sender and set the inbound webhook URL to:
#   https://yourdomain.com/api/webhooks/twilio/inbound
AI_PROVIDER="openai"
OPENAI_API_KEY="your-openai-api-key"
OPENAI_MODEL="gpt-4o-mini"          # Latest fast/cheap model; alternatives: gpt-4.1-mini, gpt-4.1-nano
GEMINI_API_KEY="your-google-gemini-api-key"
GEMINI_MODEL="gemini-2.0-flash"     # Latest fast model; alternatives: gemini-2.5-pro, gemini-2.5-flash

# Application Configuration
NODE_ENV="development"
APP_URL="http://localhost:3000"
# Platform optimization: "cloudflare", "vercel", "docker", or "standard"
PLATFORM_OPTIMIZATION="standard"
# Commercial name of the platform
NEXT_PUBLIC_COMMERCIAL_NAME="Nupci"

# ── Caching (guest-facing hot paths) ─────────────────────────────────────────
#
# RSVP_CACHE_TTL_HOURS
#   Controls TWO runtime caches for the /rsvp/ page:
#     1. Server in-memory per-wedding cache (lib/cache/rsvp-page.ts)
#     2. Vercel CDN Cache-Control s-maxage (when PLATFORM_OPTIMIZATION=vercel)
#   Explicit invalidation fires immediately on template / settings changes.
#   NOTE: The Next.js ISR 'revalidate' constant in page.tsx is a static build-
#   time literal (Next.js requirement); if you change this value, also update
#   'export const revalidate' in src/app/(public)/rsvp/[token]/page.tsx.
#   Default: 1 hour
RSVP_CACHE_TTL_HOURS="1"
#
# SHORT_URL_CACHE_TTL_HOURS
#   Controls TWO runtime caches for the /inv/ short-URL redirect page:
#     1. Server in-memory short-URL → token resolution cache (lib/short-url.ts)
#     2. Vercel CDN Cache-Control s-maxage (when PLATFORM_OPTIMIZATION=vercel)
#   Short URL codes are permanent, so a long TTL is fine.
#   NOTE: If you change this, also update 'export const revalidate' in
#   src/app/(public)/inv/[initials]/[shortCode]/page.tsx.
#   Default: 24 hours
SHORT_URL_CACHE_TTL_HOURS="24"

# Redis (Optional - for caching)
REDIS_URL="redis://localhost:6379"

# Master Admin Configuration
# Comma-separated list of email addresses that should have master admin access
# Master admins can manage wedding planners and view all weddings
MASTER_ADMIN_EMAILS="admin@example.com,admin2@example.com"

# Monitoring & Logging
LOG_LEVEL="info"
UPTIME_ROBOT_WEBHOOK="your-uptime-robot-webhook-url"

# Backup Configuration
BACKUP_STORAGE_URL="your-backup-storage-url"
BACKUP_RETENTION_DAYS="30"

# Vercel Blob Storage (Optional)
# When set, file uploads will use Vercel Blob Storage instead of local filesystem
# Get this token from your Vercel project settings: https://vercel.com/docs/storage/vercel-blob
#BLOB_READ_WRITE_TOKEN="your-vercel-blob-read-write-token"
